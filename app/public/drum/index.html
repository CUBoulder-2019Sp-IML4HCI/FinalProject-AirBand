<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Drum</title>
    <link href="../libraries/foundation/css/foundation.min.css" rel="stylesheet"></link>
    <link href="http://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css" rel="stylesheet">

    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script src="../libraries/foundation/js/vendor/foundation.min.js" type="text/javascript"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="../libraries/Tone.js"></script>
    <script src="../eventDispatcher.js" type="text/javascript"></script>

    <style> 
      body {padding: 0; margin: 0;} 
    </style>
  </head>
  <body class="body-container">
    <h1>Test Drum App</h1>
    <div><span>Current Drum Class:&nbsp;&nbsp;</span><span id="currentEvent">None</span></div>
  </body>
  <script src="drumModel.js" type="text/javascript"></script>
  <script src="drumView.js" type="text/javascript"></script>
  <script src="drumController.js" type="text/javascript"></script>
  <script>
    var touched = false;
    function mousePressed() { if (!touched) {
     getAudioContext().resume(); touched = true} 
    }
    var model = new DrumModel(),
        view = new DrumView(model),
        controller = new DrumController(model, view);

    // Web socket controller that calls the DrumController events
    var socket = io();

    // Do something with it
    socket.on('osc', function(msg){
      
      // Do stuff
      console.log("messaged received");
      controller.updateCurrent(msg);

    });
  </script>
  <script>
    $(document).foundation();
  </script>
</html>
